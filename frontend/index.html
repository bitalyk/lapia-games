<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Lapia Games - Platform</title>
  <link rel="stylesheet" href="./style.css">
</head>
<body class="app-loading">
  <header>
    <h1>üéÆ Lapia Games Platform</h1>
    <div id="user-info" style="display: none;">
      Welcome, <span id="header-username"></span>!
      <button id="header-logout">Logout</button>
    </div>
  </header>

  <!-- Toast container -->
  <div id="toast-container" aria-live="polite" aria-atomic="true"></div>

  <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ -->
  <main id="auth-container">
    <div class="auth-wrapper">
      <div class="auth-card">
        <h2>Welcome to Lapia Games</h2>
        <p>Join our gaming platform with cross-game economy!</p>
        
        <div id="login-container">
          <div class="input-group">
            <label>Username:</label>
            <input id="username" type="text" autocomplete="username" placeholder="Enter your username">
          </div>
          <div class="input-group">
            <label>Password:</label>
            <input id="password" type="password" autocomplete="current-password" placeholder="Enter your password">
          </div>
          <div class="auth-buttons">
            <button id="loginBtn" class="auth-btn primary">Login</button>
            <button id="registerBtn" class="auth-btn secondary">Register</button>
          </div>
          <div id="authMsg" class="auth-message"></div>
        </div>

        <div id="telegram-auth-overlay" class="telegram-auth-overlay" hidden>
          <div class="telegram-badge">Telegram Mode</div>
          <h2 id="telegram-status-title">Connecting to Telegram‚Ä¶</h2>
          <p id="telegram-status-message">Please wait while we verify your session.</p>
          <button id="telegram-retry-btn" class="auth-btn primary" style="display:none;">Retry Connection</button>
        </div>
      </div>
      
    </div>
  </main>

  <!-- –ò–≥—Ä–æ–≤–æ–µ –º–µ–Ω—é -->
  <section id="game-menu" style="display:none;">
    <!-- –ó–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
  </section>

  <!-- –ò–≥—Ä–æ–≤–∞—è –æ–±–ª–∞—Å—Ç—å -->
  <div id="game-area" style="display:none;"></div>

  <!-- Telegram WebApp SDK must load before our auth manager -->
<script src="https://telegram.org/js/telegram-web-app.js"></script>
  <!-- –í –∫–æ–Ω—Ü–µ body –≤ frontend/index.html -->
<script src="./js/game-manager.js"></script>
<script src="./js/toast-manager.js"></script>
<script src="./js/promo-manager.js"></script>
<script type="module">
  // ‚úÖ –ó–∞–≥—Ä—É–∂–∞–µ–º –º–æ–¥—É–ª–∏ –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ
  import { AuthManager } from './auth/auth-manager.js';
  import { ShopUI } from './shop/shop-ui.js';
  import { FriendCenter } from './js/friends/friend-center.js';
    
  // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º —Å–∏—Å—Ç–µ–º—ã
  window.authManager = new AuthManager();
  window.shopUI = new ShopUI();
  window.friendCenter = new FriendCenter({ authManager: window.authManager });
  window.friendCenter.init();
    
  console.log('‚úÖ All systems initialized');
</script>
<script src="./script.js"></script>
</body>
</html>